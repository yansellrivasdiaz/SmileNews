<!--
  Generated template for the PublishformPage page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header>
  <ion-toolbar color="secondColor">
    <ion-title>
      App News
    </ion-title>
    <ion-buttons end>
      <button ion-button icon-only (click)="dismiss()">
        <span ion-text color="light" showWhen="ios">Cancel</span>
        <ion-icon name="close" showWhen="android,windows"></ion-icon>
      </button>
    </ion-buttons>
  </ion-toolbar>
</ion-header>

<ion-content>

  <form [formGroup]="newsForm" (ngSubmit)="updateNews()" class="form-custom" novalidate>
    <ion-card class="card-mod">
      <div class="news-header">
        <ion-img class="image" src="{{ image || '../../assets/imgs/noimage.png' }}"></ion-img>
        <button type="button" ion-fab mini color="success" class="add-image" (click)="presentPopover($event)">
          <ion-icon name="image"></ion-icon>
        </button>
      </div>

      <ion-list class="list-item">

        <ion-item>
          <ion-input mode="ios" #i1 tabindex="1" (keyup)="gotoNextField($event,i2)" placeholder="title"
            formControlName="title" type="text"></ion-input>
        </ion-item>
        <small *ngIf="newsForm.get('title').errors && newsForm.get('title').dirty">
          <p color="danger" ion-text *ngIf="newsForm.get('title').hasError('required')">Title is required</p>
        </small>

        <ion-item>
          <ion-input mode="ios" #i2 tabindex="2" (keyup)="gotoNextField($event,i3)" placeholder="subtitle"
            formControlName="subtitle" type="text"></ion-input>
        </ion-item>
        <small *ngIf="newsForm.get('subtitle').errors && newsForm.get('subtitle').dirty">
          <p color="danger" ion-text *ngIf="newsForm.get('subtitle').hasError('required')">Subtitle is required
          </p>
        </small>

        <ion-item>
          <ion-textarea rows="5" auto-grow="true" mode="ios" tabindex="3" #i3 placeholder="Context..."
            formControlName="body"></ion-textarea>
        </ion-item>
        <small *ngIf="newsForm.get('body').errors && newsForm.get('body').dirty">
          <p color="danger" ion-text *ngIf="newsForm.get('body').hasError('required')">Context is
            required</p>
        </small>

        <ion-item class="check-item">
          <ion-label>Publish ?</ion-label>
          <ion-toggle mode="md" [disabled]="newsForm.invalid" formControlName="status" checked="false"></ion-toggle>
        </ion-item>
      </ion-list>
      <button class="btn-save" ion-button full type="submit" [disabled]="newsForm.invalid">Save</button>
      <button class="btn-reset" type="button" color="warning" ion-button full (click)="resetNews()">Reset</button>
    </ion-card>


  </form>


</ion-content>